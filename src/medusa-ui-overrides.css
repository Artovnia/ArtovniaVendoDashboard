/* 
 * Custom overrides for Medusa UI components 
 * Direct button styling instead of relying on CSS variables
 */

/**
 * The issue: Medusa UI components are using ui-bg-base for button background colors
 * Solution: Override buttons directly using element selectors with !important flags
 */

/* ======== THEME COLOR VARIABLES ======== */
:root {
  /* ---- LIGHT MODE COLORS ---- */
  /* Primary colors - for buttons and interactive elements */
  --mercur-primary: #f3f1f1;           /* Main button background color */
  --mercur-primary-hover: #bbaba0;     /* Button hover state */
  --mercur-primary-active: #a89990;    /* Button active/pressed state */
  --mercur-primary-text: #1a1616;      /* Text on primary buttons */
  
  /* Secondary elements */
  --mercur-secondary: #24221f;         /* Secondary buttons/accents */
  --mercur-secondary-hover: #302d29;   /* Secondary hover state */
  
  /* Background colors */
  --mercur-bg-base: #F4F0EB;           /* Main background */
  --mercur-bg-subtle: #e5e0d9;         /* Subtle background variants */
  --mercur-bg-component: #ffffff;      /* Card/component backgrounds */
  
  /* Text colors */
  --mercur-text-base: #1a1616;         /* Main text color */
  --mercur-text-subtle: #3a3634;       /* Secondary text */
  --mercur-text-muted: #645f5c;        /* Muted/hint text */
  
  /* Border colors */
  --mercur-border: #cfc8c1;            /* Standard border */
  --mercur-border-strong: #24221f;     /* Strong/focused borders */
  
  /* Status colors */
  --mercur-success: #34775C;           /* Success state */
  --mercur-warning: #F0A04B;           /* Warning state */
  --mercur-error: #A15C38;             /* Error state */
  --mercur-info: #537188;              /* Info state */
  
  /* ---- DARK MODE COLORS ---- */
  /* Primary colors */
  --mercur-primary-dark: #423b33;      /* Dark mode button background */
  --mercur-primary-dark-hover: #544c43; /* Dark mode hover state */
  --mercur-primary-dark-active: #635a51; /* Dark mode active state */
  --mercur-primary-dark-text: #bdb9b1; /* Dark mode button text */
  
  /* Secondary elements */
  --mercur-secondary-dark: #c7c4be;    /* Dark mode secondary elements */
  --mercur-secondary-dark-hover: #d5d2cc; /* Dark mode secondary hover */
  
  /* Background colors */
  --mercur-bg-base-dark: #1A1917;      /* Dark mode main background */
  --mercur-bg-subtle-dark: #2D2B28;    /* Dark mode subtle background */
  --mercur-bg-component-dark: #242220; /* Dark mode component background */
  
  /* Text colors */
  --mercur-text-base-dark: #bdb9b1;    /* Dark mode main text */
  --mercur-text-subtle-dark: #a3a09a;  /* Dark mode secondary text */
  --mercur-text-muted-dark: #8a8680;   /* Dark mode muted text */
  
  /* Border colors */
  --mercur-border-dark: #c7c4be;       /* Dark mode borders */
  --mercur-border-strong-dark: #e5e3de; /* Dark mode strong borders */
  
  /* Status colors (slightly muted for dark mode) */
  --mercur-success-dark: #5a9178;      /* Dark mode success */
  --mercur-warning-dark: #d4a46a;      /* Dark mode warning */
  --mercur-error-dark: #b47a5e;        /* Dark mode error */
  --mercur-info-dark: #7a98af;         /* Dark mode info */
}

/* ======== DIRECT BUTTON STYLING ======== */

/* Select any button in Medusa UI */
button[class*="ui-"] {
  background-color: var(--mercur-primary) !important;
  background: var(--mercur-primary) !important;
  color: var(--mercur-primary-text) !important;
  border-color: var(--mercur-primary) !important;
}

/* Secondary buttons need special handling */
button[class*="ui-"][data-variant="secondary"] {
  background-color: transparent !important;
  background: transparent !important;
  color: var(--mercur-secondary) !important;
  border: 1px solid var(--mercur-secondary) !important;
}

/* Handle button hover states */
button[class*="ui-"]:hover {
  background-color: var(--mercur-primary-hover) !important;
  background: var(--mercur-primary-hover) !important;
}

/* Active/pressed state for buttons */
button[class*="ui-"]:active {
  background-color: var(--mercur-primary-active) !important;
  background: var(--mercur-primary-active) !important;
}

button[class*="ui-"][data-variant="secondary"]:hover {
  background-color: var(--mercur-secondary-hover) !important;
  background: var(--mercur-secondary-hover) !important;
  opacity: 0.2 !important;
}

button[class*="ui-"][data-variant="secondary"]:active {
  background-color: var(--mercur-secondary-hover) !important;
  background: var(--mercur-secondary-hover) !important;
  opacity: 0.3 !important;
}

/* ======== DARK MODE OVERRIDES ======== */
.dark button[class*="ui-"] {
  background-color: var(--mercur-primary-dark) !important;
  background: var(--mercur-primary-dark) !important;
  color: var(--mercur-primary-dark-text) !important;
  border-color: var(--mercur-primary-dark) !important;
}

.dark button[class*="ui-"][data-variant="secondary"] {
  background-color: transparent !important;
  background: transparent !important;
  color: var(--mercur-secondary-dark) !important;
  border: 1px solid var(--mercur-secondary-dark) !important;
}

.dark button[class*="ui-"]:hover {
  background-color: var(--mercur-primary-dark-hover) !important;
  background: var(--mercur-primary-dark-hover) !important;
}

.dark button[class*="ui-"]:active {
  background-color: var(--mercur-primary-dark-active) !important;
  background: var(--mercur-primary-dark-active) !important;
}

.dark button[class*="ui-"][data-variant="secondary"]:hover {
  background-color: var(--mercur-secondary-dark-hover) !important;
  background: var(--mercur-secondary-dark-hover) !important;
  opacity: 0.2 !important;
}

.dark button[class*="ui-"][data-variant="secondary"]:active {
  background-color: var(--mercur-secondary-dark-hover) !important;
  background: var(--mercur-secondary-dark-hover) !important;
  opacity: 0.3 !important;
}

/* ======== UNIVERSAL BUTTON OVERRIDES (ANY MEDUSA UI BUTTON CLASS) ======== */
.ui-button, 
[class*="ui-button-"], 
button[class*="button"] {
  background-color: var(--mercur-primary) !important;
  color: var(--mercur-primary-text) !important;
}

.dark .ui-button, 
.dark [class*="ui-button-"], 
.dark button[class*="button"] {
  background-color: var(--mercur-primary-dark) !important;
  color: var(--mercur-primary-dark-text) !important;
}

/* Status-colored buttons */
button[class*="ui-danger"],
button[data-variant="danger"] {
  background-color: var(--mercur-error) !important;
  color: white !important;
}

.dark button[class*="ui-danger"],
.dark button[data-variant="danger"] {
  background-color: var(--mercur-error-dark) !important;
  color: white !important;
}

/* Success buttons */
button[class*="ui-success"],
button[data-variant="success"] {
  background-color: var(--mercur-success) !important;
  color: white !important;
}

.dark button[class*="ui-success"],
.dark button[data-variant="success"] {
  background-color: var(--mercur-success-dark) !important;
  color: white !important;
}

/* Extra handling for buttons in special contexts */
form button,
[role="dialog"] button,
[class*="drawer"] button,
[class*="modal"] button {
  background: var(--mercur-primary) !important;
  background-color: var(--mercur-primary) !important;
  color: var(--mercur-primary-text) !important;
}

.dark form button,
.dark [role="dialog"] button,
.dark [class*="drawer"] button,
.dark [class*="modal"] button {
  background: var(--mercur-primary-dark) !important;
  background-color: var(--mercur-primary-dark) !important;
  color: var(--mercur-primary-dark-text) !important;
}

/* Special button states - disabled */
button[disabled],
button[aria-disabled="true"],
.ui-button[disabled],
.ui-button[aria-disabled="true"] {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* 
 * Prevent class-level overrides from Medusa UI
 */

/* Generic selector that applies to many elements */
.ui-bg-base {
  background-color: initial !important;
}

/* Page backgrounds */
:root {
  --ui-bg-base: var(--mercur-bg-base) !important;
  --ui-bg-subtle: var(--mercur-bg-subtle) !important;
  --ui-fg-base: var(--mercur-text-base) !important;
  --ui-fg-interactive: var(--mercur-secondary) !important;
}

/* Dark mode page backgrounds */
.dark {
  --ui-bg-base: var(--mercur-bg-base-dark) !important;
  --ui-bg-subtle: var(--mercur-bg-subtle-dark) !important;
  --ui-fg-base: var(--mercur-text-base-dark) !important;
  --ui-fg-interactive: var(--mercur-secondary-dark) !important;
}

/* Ultra specific button selectors to force the correct colors */

/* PRIMARY BUTTONS - LIGHT MODE */
button.ui-button[data-variant="primary"],
div button[data-variant="primary"],
button[data-variant="primary"],
button[type="submit"],
button.ui-button:not([data-variant="secondary"]):not([data-variant="outline"]),
.ui-button[data-variant="primary"] {
  background: #3B3634 !important;
  background-color: #3B3634 !important;
  color: #FFFFFF !important;
  border-color: #3B3634 !important;
  box-shadow: none !important;
}

/* PRIMARY BUTTON HOVER - LIGHT MODE */
button.ui-button[data-variant="primary"]:hover,
div button[data-variant="primary"]:hover,
button[data-variant="primary"]:hover,
button[type="submit"]:hover,
button.ui-button:not([data-variant="secondary"]):not([data-variant="outline"]):hover,
.ui-button[data-variant="primary"]:hover {
  background: #2a2725 !important;
  background-color: #2a2725 !important;
}

/* SECONDARY BUTTONS - LIGHT MODE */
button.ui-button[data-variant="secondary"],
div button[data-variant="secondary"],
button[data-variant="secondary"],
.ui-button[data-variant="secondary"] {
  background: transparent !important;
  background-color: transparent !important;
  color: #3B3634 !important;
  border: 1px solid #3B3634 !important;
}

/* SECONDARY BUTTON HOVER - LIGHT MODE */
button.ui-button[data-variant="secondary"]:hover,
div button[data-variant="secondary"]:hover,
button[data-variant="secondary"]:hover,
.ui-button[data-variant="secondary"]:hover {
  background: rgba(59, 54, 52, 0.05) !important;
  background-color: rgba(59, 54, 52, 0.05) !important;
}

/* PRIMARY BUTTONS - DARK MODE */
.dark button.ui-button[data-variant="primary"],
.dark div button[data-variant="primary"],
.dark button[data-variant="primary"],
.dark button[type="submit"],
.dark button.ui-button:not([data-variant="secondary"]):not([data-variant="outline"]),
.dark .ui-button[data-variant="primary"] {
  background: #E8E4DF !important;
  background-color: #E8E4DF !important;
  color: #1A1917 !important;
  border-color: #E8E4DF !important;
}

/* PRIMARY BUTTON HOVER - DARK MODE */
.dark button.ui-button[data-variant="primary"]:hover,
.dark div button[data-variant="primary"]:hover,
.dark button[data-variant="primary"]:hover,
.dark button[type="submit"]:hover,
.dark button.ui-button:not([data-variant="secondary"]):not([data-variant="outline"]):hover,
.dark .ui-button[data-variant="primary"]:hover {
  background: #d6d1ca !important;
  background-color: #d6d1ca !important;
}

/* SECONDARY BUTTONS - DARK MODE */
.dark button.ui-button[data-variant="secondary"],
.dark div button[data-variant="secondary"],
.dark button[data-variant="secondary"],
.dark .ui-button[data-variant="secondary"] {
  background: transparent !important;
  background-color: transparent !important;
  color: #E8E4DF !important;
  border: 1px solid #E8E4DF !important;
}

/* SECONDARY BUTTON HOVER - DARK MODE */
.dark button.ui-button[data-variant="secondary"]:hover,
.dark div button[data-variant="secondary"]:hover,
.dark button[data-variant="secondary"]:hover,
.dark .ui-button[data-variant="secondary"]:hover {
  background: rgba(232, 228, 223, 0.05) !important;
  background-color: rgba(232, 228, 223, 0.05) !important;
}

/* Extra handling for buttons in special contexts */
form button,
[role="dialog"] button,
[class*="drawer"] button,
[class*="modal"] button {
  background: #3B3634 !important;
  background-color: #3B3634 !important;
  color: #FFFFFF !important;
}

.dark form button,
.dark [role="dialog"] button,
.dark [class*="drawer"] button,
.dark [class*="modal"] button {
  background: #E8E4DF !important;
  background-color: #E8E4DF !important;
  color: #1A1917 !important;
}

/* Text buttons */
.ui-text-button {
  color: #3B3634 !important;
}

.ui-text-button:hover {
  color: #2a2725 !important;
}

.dark .ui-text-button {
  color: #E8E4DF !important;
}

.dark .ui-text-button:hover {
  color: #d6d1ca !important;
}
